<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ì„ ê±° íŒì„¸ ì¸í…”ë¦¬ì „ìŠ¤ Â· ElectionAI</title>
<link rel="stylesheet" href="css/style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>

/* â”€â”€ ì»¤ë²„ â”€â”€ */
.ls-cover {
  background: linear-gradient(140deg, #0c1445 0%, #0e4d6b 50%, #0891b2 100%);
  color: white; border-radius: var(--radius);
  padding: 52px 48px; position: relative; overflow: hidden; margin-bottom: 32px;
}
.ls-cover::before {
  content: 'ğŸ—ºï¸'; font-size: 200px; opacity: .04;
  position: absolute; right: -20px; top: -30px; line-height: 1; pointer-events: none;
}
.ls-badge {
  display: inline-block;
  background: rgba(8,145,178,.25); border: 1px solid rgba(8,145,178,.65);
  color: #67e8f9; padding: 4px 14px; border-radius: 20px;
  font-size: 11px; font-weight: 700; margin-bottom: 16px; letter-spacing: .6px;
}
.ls-cover h1 { font-size: 30px; font-weight: 900; line-height: 1.25; margin-bottom: 8px; }
.ls-cover .ls-subtitle { font-size: 14px; opacity: .9; margin-bottom: 32px; line-height: 1.75; }
.ls-meta { display: flex; gap: 32px; flex-wrap: wrap; }
.ls-meta-item .lbl { font-size: 10px; opacity: .8; text-transform: uppercase; letter-spacing: .8px; margin-bottom: 3px; }
.ls-meta-item .val { font-size: 15px; font-weight: 700; }

/* â”€â”€ PDF ë²„íŠ¼ â”€â”€ */
.ls-pdf-btn {
  position: fixed; top: 100px; right: 24px;
  background: #0891b2; color: white; border: none;
  padding: 10px 18px; border-radius: 8px; font-size: 13px; font-weight: 700;
  cursor: pointer; z-index: 40; box-shadow: 0 4px 14px rgba(8,145,178,.4);
  display: flex; align-items: center; gap: 6px; transition: all .2s;
}
.ls-pdf-btn:hover { background: #0e7490; transform: translateY(-1px); }

/* â”€â”€ ëª©ì°¨ â”€â”€ */
.ls-toc {
  background: white; border: 1px solid var(--border);
  border-radius: var(--radius); padding: 24px 28px; margin-bottom: 32px;
  box-shadow: var(--shadow);
}
.ls-toc-head {
  font-size: 13px; font-weight: 800; color: #0891b2;
  letter-spacing: .5px; margin-bottom: 16px; padding-bottom: 12px;
  border-bottom: 2px solid #e0f2fe;
}
.ls-toc-grid {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 10px;
}
.ls-toc-item {
  display: flex; align-items: flex-start; gap: 10px;
  padding: 10px 12px; border-radius: 8px; border-left: 3px solid;
  background: #f8fafc; cursor: pointer; transition: background .15s;
}
.ls-toc-item:hover { background: #f0f9ff; }
.ls-toc-num { font-size: 11px; font-weight: 900; min-width: 22px; line-height: 1.4; }
.ls-toc-txt .t { font-size: 12px; font-weight: 800; color: #0f172a; line-height: 1.3; }
.ls-toc-txt .d { font-size: 10px; color: #374151; line-height: 1.5; margin-top: 1px; }

/* â”€â”€ ì„¹ì…˜ ê³µí†µ â”€â”€ */
.ls-section { margin-bottom: 32px; }
.ls-section-header {
  display: flex; align-items: center; gap: 12px;
  padding: 14px 20px; border-radius: var(--radius-sm);
  color: white; margin-bottom: 20px;
}
.ls-section-num {
  background: rgba(255,255,255,.2); width: 30px; height: 30px;
  border-radius: 50%; display: flex; align-items: center; justify-content: center;
  font-size: 12px; font-weight: 900; flex-shrink: 0;
}
.ls-section-title { font-size: 17px; font-weight: 800; }
.ls-section-desc { font-size: 12px; opacity: .9; margin-top: 2px; }

/* â”€â”€ ì„¹ì…˜ ìƒ‰ìƒ â”€â”€ */
.ls-c1 { background: linear-gradient(135deg, #0891b2, #0e7490); }
.ls-c2 { background: linear-gradient(135deg, #1e40af, #1e3a8a); }
.ls-c3 { background: linear-gradient(135deg, #7c3aed, #6d28d9); }
.ls-c4 { background: linear-gradient(135deg, #d97706, #b45309); }
.ls-c5 { background: linear-gradient(135deg, #059669, #047857); }
.ls-c6 { background: linear-gradient(135deg, #dc2626, #b91c1c); }
.ls-c7 { background: linear-gradient(135deg, #0f172a, #1e3a8a); }

/* â”€â”€ ë°ì´í„° ì¹´ë“œ â”€â”€ */
.ls-card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(190px,1fr)); gap: 14px; margin-bottom: 16px; }
.ls-data-card {
  background: white; border-radius: var(--radius-sm);
  border: 1px solid var(--border); padding: 16px; text-align: center;
}
.ls-data-card .dc-icon { font-size: 28px; margin-bottom: 8px; }
.ls-data-card .dc-val { font-size: 28px; font-weight: 900; color: #0f172a; margin-bottom: 4px; }
.ls-data-card .dc-label { font-size: 12px; font-weight: 700; color: #374151; margin-bottom: 4px; }
.ls-data-card .dc-sub { font-size: 11px; color: #4b5563; line-height: 1.55; }

/* â”€â”€ í”„ë ˆì„ ë¶„ì„ í…Œì´ë¸” â”€â”€ */
.frame-table { width: 100%; border-collapse: collapse; font-size: 13px; }
.frame-table th {
  background: #1e3a8a; color: white; padding: 10px 14px;
  text-align: left; font-weight: 700; font-size: 12px;
}
.frame-table td { padding: 10px 14px; border-bottom: 1px solid #e2e8f0; vertical-align: top; }
.frame-table tr:hover td { background: #f0f9ff; }
.frame-table tr:last-child td { border-bottom: none; }
.frame-prob {
  display: inline-flex; align-items: center; justify-content: center;
  padding: 3px 10px; border-radius: 12px; font-size: 12px; font-weight: 800;
}
.frame-type-badge {
  display: inline-block; padding: 2px 8px; border-radius: 10px;
  font-size: 11px; font-weight: 700; margin: 2px 2px 2px 0;
}

/* â”€â”€ ê´€ì‹¬ì‚¬ ë°” â”€â”€ */
.interest-bar-wrap { margin-bottom: 11px; }
.interest-bar-label {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 5px; font-size: 13px; font-weight: 600; color: #0f172a;
}
.interest-bar-track { height: 10px; background: #e2e8f0; border-radius: 5px; overflow: hidden; }
.interest-bar-fill { height: 100%; border-radius: 5px; transition: width .8s ease; }

/* â”€â”€ ë¦¬ìŠ¤í¬ íƒ€ì„ë¼ì¸ â”€â”€ */
.risk-timeline { display: flex; flex-direction: column; gap: 12px; }
.risk-item {
  display: flex; gap: 14px; align-items: flex-start;
  padding: 14px 16px; background: white; border-radius: var(--radius-sm);
  border: 1px solid var(--border); border-left: 4px solid;
}
.risk-icon { font-size: 22px; flex-shrink: 0; line-height: 1.4; }
.risk-content .risk-title { font-size: 14px; font-weight: 800; color: #0f172a; margin-bottom: 4px; }
.risk-content .risk-desc { font-size: 12px; color: #374151; line-height: 1.65; }
.risk-content .risk-timing {
  display: inline-block; margin-top: 7px; font-size: 11px; font-weight: 700;
  padding: 2px 8px; border-radius: 10px; background: #f1f5f9; color: #374151;
}

/* â”€â”€ ìº í˜ì¸ ê°€ì´ë“œ â”€â”€ */
.guide-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(230px,1fr)); gap: 14px; }
.guide-card {
  background: white; border-radius: var(--radius-sm); border: 1px solid var(--border);
  padding: 18px; border-top: 3px solid;
}
.guide-card .gc-phase { font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: .6px; margin-bottom: 6px; }
.guide-card .gc-title { font-size: 15px; font-weight: 800; color: #0f172a; margin-bottom: 10px; }
.guide-card .gc-items { list-style: none; display: flex; flex-direction: column; gap: 5px; }
.guide-card .gc-items li {
  font-size: 12px; color: #374151; padding: 5px 9px;
  background: #f8fafc; border-radius: 5px; border-left: 2px solid #e2e8f0; line-height: 1.4;
}

/* â”€â”€ ì¸ì‚¬ì´íŠ¸ ë°•ìŠ¤ â”€â”€ */
.ls-insight {
  background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
  border: 1px solid #bae6fd; border-left: 4px solid #0891b2;
  border-radius: var(--radius-sm); padding: 14px 16px;
  font-size: 13px; color: #0c4a6e; line-height: 1.8; margin-top: 14px;
}
.ls-insight strong { color: #0e7490; }

/* â”€â”€ í›„ë³´ ìœ í˜• ë²”ë¡€ â”€â”€ */
.type-legend { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 14px; }
.type-badge {
  display: inline-flex; align-items: center; gap: 5px;
  padding: 5px 12px; border-radius: 20px; font-size: 12px; font-weight: 700;
  border: 2px solid;
}

/* â”€â”€ íˆ¬í‘œ íŒ¨í„´ ì¹´ë“œ â”€â”€ */
.vote-pattern-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(210px,1fr)); gap: 14px; }
.vp-card {
  background: white; border-radius: var(--radius-sm); border: 1px solid var(--border);
  padding: 18px; position: relative; overflow: hidden;
}
.vp-card .vp-icon { font-size: 28px; margin-bottom: 10px; }
.vp-card .vp-title { font-size: 14px; font-weight: 800; color: #0f172a; margin-bottom: 6px; }
.vp-card .vp-pct { font-size: 30px; font-weight: 900; margin-bottom: 6px; }
.vp-card .vp-desc { font-size: 12px; color: #374151; line-height: 1.65; }

/* â”€â”€ ì°¨íŠ¸ ë ˆì´ì•„ì›ƒ â”€â”€ */
.ls-chart-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 16px; }
@media (max-width: 680px) { .ls-chart-row { grid-template-columns: 1fr; } }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Gemini ì„ ê±°êµ¬ ë§ì¶¤ ë¶„ì„ ì„¹ì…˜
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.ls-gemini-wrap {
  background: white; border: 1px solid var(--border);
  border-radius: var(--radius); padding: 26px 28px;
  margin-bottom: 28px; box-shadow: var(--shadow);
  border-top: 4px solid #4f46e5;
}
.ls-gemini-header {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 6px; flex-wrap: wrap; gap: 8px;
}
.ls-gemini-title {
  font-size: 16px; font-weight: 800; color: #0f172a;
  display: flex; align-items: center; gap: 8px;
}
.ls-gemini-title-sub { font-size: 12px; color: #4b5563; font-weight: 500; margin-bottom: 18px; }
.gemini-badge {
  background: #ede9fe; color: #4f46e5; padding: 3px 10px;
  border-radius: 12px; font-size: 11px; font-weight: 700;
  border: 1px solid #c4b5fd;
}
/* í¼ */
.ls-form-row { display: flex; flex-direction: column; gap: 4px; margin-bottom: 12px; }
.ls-form-row label { font-size: 12px; font-weight: 700; color: #374151; }
.ls-form-row input {
  padding: 10px 14px; border: 1px solid var(--border); border-radius: 8px;
  font-size: 13px; font-family: inherit; color: #0f172a; transition: border-color .2s;
}
.ls-form-row input:focus { outline: none; border-color: #4f46e5; }
.ls-form-actions { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; margin-top: 4px; }
.ls-gen-btn {
  padding: 10px 22px; background: #4f46e5; color: white;
  border: none; border-radius: 8px; font-size: 13px; font-weight: 700;
  cursor: pointer; font-family: inherit; transition: all .2s;
  display: flex; align-items: center; gap: 6px;
}
.ls-gen-btn:hover { background: #4338ca; transform: translateY(-1px); }
.ls-gen-btn:disabled { background: #94a3b8; cursor: not-allowed; transform: none; }
.ls-regen-btn {
  padding: 8px 14px; background: white; color: #374151;
  border: 1px solid var(--border); border-radius: 8px; font-size: 12px; font-weight: 600;
  cursor: pointer; font-family: inherit; transition: all .2s;
}
.ls-regen-btn:hover { border-color: #4f46e5; color: #4f46e5; }
.ls-api-note { font-size: 11px; color: #6b7280; margin-top: 10px; }
/* ë¡œë”© */
.ls-generating-box {
  display: flex; align-items: center; justify-content: center;
  flex-direction: column; gap: 14px; padding: 44px 20px;
}
.ls-gen-spinner {
  width: 36px; height: 36px;
  border: 3px solid #e2e8f0; border-top-color: #4f46e5;
  border-radius: 50%; animation: spin .8s linear infinite;
}
.ls-gen-status { font-size: 14px; font-weight: 700; color: #374151; }
.ls-gen-status-sub { font-size: 12px; color: #4b5563; }
/* ê²°ê³¼ ê³µí†µ */
.ls-result-title-row {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 8px; flex-wrap: wrap; gap: 8px;
}
.ls-result-district { font-size: 19px; font-weight: 900; color: #0f172a; }
.ls-result-type {
  display: inline-block; padding: 3px 12px; border-radius: 20px;
  font-size: 12px; font-weight: 700; background: #ede9fe; color: #4f46e5;
  margin-left: 8px; vertical-align: middle;
}
.ls-result-overview {
  font-size: 13px; color: #374151; line-height: 1.8;
  padding: 14px 16px; background: #f5f3ff; border-radius: 8px;
  border-left: 4px solid #4f46e5; margin-bottom: 20px;
}
/* ê²°ê³¼ 2ì—´ ê·¸ë¦¬ë“œ */
.ls-result-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; margin-bottom: 14px; }
@media (max-width: 700px) { .ls-result-grid { grid-template-columns: 1fr; } }
.ls-result-card {
  background: #f8fafc; border-radius: var(--radius-sm);
  border: 1px solid var(--border); padding: 16px;
}
.ls-result-card-title {
  font-size: 12px; font-weight: 800; color: #374151;
  margin-bottom: 12px; display: flex; align-items: center; gap: 6px;
}
/* ìœ ê¶Œì ê·¸ë£¹ */
.ls-vg-item {
  display: flex; align-items: center; gap: 8px;
  padding: 6px 8px; border-radius: 6px; margin-bottom: 6px; background: white;
  border: 1px solid var(--border);
}
.ls-vg-dot { width: 9px; height: 9px; border-radius: 50%; flex-shrink: 0; }
.ls-vg-name { font-size: 12px; font-weight: 700; color: #0f172a; flex: 1; }
.ls-vg-ratio { font-size: 11px; font-weight: 900; margin-right: 4px; }
.ls-vg-issue { font-size: 11px; color: #4b5563; }
/* ì´ìŠˆ ë°” */
.ls-issue-item { display: flex; align-items: center; gap: 8px; margin-bottom: 9px; }
.ls-issue-rank { font-size: 11px; font-weight: 900; color: #6b7280; min-width: 18px; }
.ls-issue-bar-wrap { flex: 1; }
.ls-issue-label { font-size: 12px; font-weight: 700; color: #0f172a; margin-bottom: 3px; }
.ls-issue-track { height: 6px; background: #e2e8f0; border-radius: 3px; overflow: hidden; }
.ls-issue-fill { height: 100%; border-radius: 3px; }
.ls-issue-score { font-size: 12px; font-weight: 900; min-width: 26px; text-align: right; }
/* í”„ë ˆì„ */
.ls-frame-box {
  background: white; border-radius: 8px; padding: 14px;
  border: 1px solid var(--border);
}
.ls-frame-name { font-size: 15px; font-weight: 800; color: #0f172a; margin-bottom: 6px; }
.ls-frame-prob-row { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
.ls-frame-prob-track { flex: 1; height: 8px; background: #e2e8f0; border-radius: 4px; overflow: hidden; }
.ls-frame-prob-fill { height: 100%; border-radius: 4px; background: #4f46e5; }
.ls-frame-prob-val { font-size: 13px; font-weight: 900; color: #4f46e5; }
.ls-frame-analysis { font-size: 12px; color: #374151; line-height: 1.65; margin-bottom: 10px; }
.ls-frame-types { display: flex; gap: 8px; flex-wrap: wrap; }
.ls-frame-fav { padding: 3px 10px; border-radius: 10px; font-size: 11px; font-weight: 700; background: #dcfce7; color: #166534; }
.ls-frame-unfav { padding: 3px 10px; border-radius: 10px; font-size: 11px; font-weight: 700; background: #fee2e2; color: #991b1b; }
/* ë¦¬ìŠ¤í¬ ë¯¸ë‹ˆ */
.ls-risk-mini {
  display: flex; gap: 10px; align-items: flex-start;
  padding: 10px 12px; background: white; border-radius: 8px;
  border: 1px solid var(--border); border-left: 3px solid; margin-bottom: 8px;
}
.ls-risk-mini-icon { font-size: 18px; flex-shrink: 0; }
.ls-risk-mini-title { font-size: 12px; font-weight: 800; color: #0f172a; margin-bottom: 2px; }
.ls-risk-mini-desc { font-size: 11px; color: #374151; line-height: 1.55; }
.ls-risk-mini-timing {
  font-size: 10px; font-weight: 700; color: #4b5563; margin-top: 5px;
  background: #f1f5f9; display: inline-block; padding: 1px 7px; border-radius: 8px;
}
/* ìº í˜ì¸ í¬ì¸íŠ¸ */
.ls-cp-item {
  margin-bottom: 8px; padding: 11px 14px; background: white;
  border-radius: 8px; border: 1px solid var(--border); border-left: 3px solid;
}
.ls-cp-phase { font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: .6px; margin-bottom: 3px; }
.ls-cp-title { font-size: 13px; font-weight: 800; color: #0f172a; margin-bottom: 6px; }
.ls-cp-pts { display: flex; flex-direction: column; gap: 3px; }
.ls-cp-pt {
  font-size: 11px; color: #374151; padding: 3px 7px;
  background: #f8fafc; border-radius: 4px; border-left: 2px solid #e2e8f0;
}
/* ì¸ì‚¬ì´íŠ¸ */
.ls-district-insight {
  background: linear-gradient(135deg, #fdf4ff, #ede9fe);
  border: 1px solid #ddd6fe; border-left: 4px solid #7c3aed;
  border-radius: var(--radius-sm); padding: 14px 16px;
  font-size: 13px; color: #1e1b4b; line-height: 1.8; margin-top: 14px;
}
.ls-district-insight strong { color: #7c3aed; }
/* ìºì‹œ ì•ˆë‚´ */
.ls-cache-notice { font-size: 11px; color: #6b7280; display: flex; align-items: center; gap: 5px; }
/* â”€â”€ ì¸ì‡„ â”€â”€ */
@media print {
  * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
  .ls-pdf-btn { display: none !important; }
  .app-header, .main-nav, .app-footer { display: none !important; }
  body { background: white !important; }
  .page-container { padding: 0 !important; }
  .ls-cover {
    border-radius: 0 !important;
    background: linear-gradient(140deg, #0c1445 0%, #0e4d6b 50%, #0891b2 100%) !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  .ls-section { break-inside: avoid; }
  .ls-toc { break-inside: avoid; }
  @page { margin: 10mm 12mm 20mm 12mm; @bottom-right { content: counter(page) " / " counter(pages); font-size: 9pt; color: #94a3b8; } }
}
</style>
</head>
<body>

<header class="app-header">
  <div class="header-inner">
    <div class="header-logo">Election<span class="logo-analysis">Analysis</span><span class="logo-report">Report</span><span class="logo-ai">AI</span></div>
    <div class="header-subtitle">ì„ ê±° íŒì„¸ ì¸í…”ë¦¬ì „ìŠ¤ Â· Election Landscape Intelligence</div>
    <div class="header-date" id="header-date"></div>
  </div>
</header>
<nav class="main-nav no-print"><div class="nav-inner" id="main-nav"></div></nav>

<div class="page-container">

  <!-- â”€â”€ ì»¤ë²„ â”€â”€ -->
  <div class="ls-cover">
    <div class="ls-badge">ğŸ—ºï¸ ELECTION INTELLIGENCE REPORT Â· ê³µí†µ íŒì„¸ ë¶„ì„</div>
    <h1>ì„ ê±° íŒì„¸ ì¸í…”ë¦¬ì „ìŠ¤<br>
      <span style="font-size:20px;opacity:.85;font-weight:700">Election Landscape Intelligence</span>
    </h1>
    <p class="ls-subtitle">
      íŠ¹ì • í›„ë³´ì— í¸í–¥ë˜ì§€ ì•Šì€ ê°ê´€ì  ì„ ê±° í™˜ê²½ ë¶„ì„ ë³´ê³ ì„œ<br>
      ìœ ê¶Œì êµ¬ì¡° Â· íŒì„¸ ë³€ìˆ˜ Â· í”„ë ˆì„ Â· íˆ¬í‘œ í–‰ë™ Â· ë¦¬ìŠ¤í¬ Â· ìº í˜ì¸ ì›ë¦¬ë¥¼ ì¢…í•© ì œê³µí•©ë‹ˆë‹¤
    </p>
    <div class="ls-meta">
      <div class="ls-meta-item">
        <div class="lbl">ì„ ê±°êµ¬</div>
        <div class="val" id="cover-district">-</div>
      </div>
      <div class="ls-meta-item">
        <div class="lbl">ë¶„ì„ì¼</div>
        <div class="val" id="cover-date">-</div>
      </div>
      <div class="ls-meta-item">
        <div class="lbl">ë³´ê³ ì„œ ìœ í˜•</div>
        <div class="val">ê³µí†µ íŒì„¸ ë¶„ì„</div>
      </div>
      <div class="ls-meta-item">
        <div class="lbl">ë¶„ì„ ì„¹ì…˜</div>
        <div class="val">7ê°œ ë¶„ì•¼</div>
      </div>
    </div>
  </div>

  <button class="ls-pdf-btn no-print" onclick="window.print()">ğŸ“¥ PDF ì €ì¥</button>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       âœ¨ Gemini ì„ ê±°êµ¬ ë§ì¶¤ ë¶„ì„
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="ls-gemini-wrap no-print" id="ls-gemini-wrap">
    <div class="ls-gemini-header">
      <div class="ls-gemini-title">âœ¨ ì„ ê±°êµ¬ ë§ì¶¤ AI ë¶„ì„</div>
      <div class="gemini-badge">Powered by Gemini AI</div>
    </div>
    <div class="ls-gemini-title-sub">ì„ ê±°êµ¬Â·ì„ ê±°ëª…ì„ ì…ë ¥í•˜ë©´ í•´ë‹¹ ì„ ê±°ì— íŠ¹í™”ëœ íŒì„¸ ë¶„ì„ì„ AIê°€ ìƒì„±í•©ë‹ˆë‹¤.</div>

    <!-- í¼ -->
    <div id="ls-api-form">
      <div class="ls-form-row">
        <label>ì„ ê±°êµ¬ / ì„ ê±°ëª…</label>
        <input id="ls-district-input" placeholder="ì˜ˆ: ì„œìš¸ì‹œì¥ ì„ ê±°, ë¶€ì‚°ì‹œ êµìœ¡ê° ì„ ê±°, ì‚¬ì´íŒ ì‹œì¥ ì„ ê±°" />
      </div>
      <div class="ls-form-row">
        <label>Gemini API Key</label>
        <input id="ls-gemini-key" type="password" placeholder="AIzaSy..." autocomplete="off" />
      </div>
      <div class="ls-form-actions">
        <button class="ls-gen-btn" id="ls-gen-btn" onclick="generateCustomAnalysis()">ğŸ¤– AI ë¶„ì„ ìƒì„±</button>
      </div>
      <div class="ls-api-note">ğŸ’¡ Gemini API í‚¤ëŠ” <strong>Google AI Studio (aistudio.google.com)</strong>ì—ì„œ ë¬´ë£Œë¡œ ë°œê¸‰ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
    </div>

    <!-- ë¡œë”© -->
    <div class="ls-generating-box" id="ls-generating-box" style="display:none">
      <div class="ls-gen-spinner"></div>
      <div class="ls-gen-status" id="ls-gen-status">ë¶„ì„ ìƒì„± ì¤‘...</div>
      <div class="ls-gen-status-sub" id="ls-gen-status-sub">Gemini AIê°€ ì„ ê±°êµ¬ íŒì„¸ë¥¼ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤.</div>
    </div>

    <!-- ê²°ê³¼ -->
    <div id="ls-custom-result" style="display:none"></div>
  </div>

  <!-- â”€â”€ ëª©ì°¨ â”€â”€ -->
  <div class="ls-toc">
    <div class="ls-toc-head">ğŸ“‹ ë³´ê³ ì„œ ëª©ì°¨ Â· TABLE OF CONTENTS</div>
    <div class="ls-toc-grid">
      <div class="ls-toc-item" style="border-color:#0891b2" onclick="document.getElementById('s01').scrollIntoView({behavior:'smooth'})">
        <div class="ls-toc-num" style="color:#0891b2">01</div>
        <div class="ls-toc-txt"><div class="t">ìœ ê¶Œì êµ¬ì¡° ë¶„ì„</div><div class="d">ì—°ë ¹Â·ì§êµ°Â·ì§€ì—­Â·ìŠ¤ìœ™ë³´í„°</div></div>
      </div>
      <div class="ls-toc-item" style="border-color:#1e40af" onclick="document.getElementById('s02').scrollIntoView({behavior:'smooth'})">
        <div class="ls-toc-num" style="color:#1e40af">02</div>
        <div class="ls-toc-txt"><div class="t">ì„ ê±° íŒì„¸ êµ¬ì¡° ë¶„ì„</div><div class="d">ê²°ì • ë³€ìˆ˜Â·ìŠ¹íŒ¨ ìš”ì¸Â·ë¶€ë™ì¸µ</div></div>
      </div>
      <div class="ls-toc-item" style="border-color:#7c3aed" onclick="document.getElementById('s03').scrollIntoView({behavior:'smooth'})">
        <div class="ls-toc-num" style="color:#7c3aed">03</div>
        <div class="ls-toc-txt"><div class="t">ì„ ê±° í”„ë ˆì„ ë¶„ì„</div><div class="d">ê²½ì œÂ·ì„¸ëŒ€êµì²´Â·ì•ˆì • í”„ë ˆì„</div></div>
      </div>
      <div class="ls-toc-item" style="border-color:#d97706" onclick="document.getElementById('s04').scrollIntoView({behavior:'smooth'})">
        <div class="ls-toc-num" style="color:#d97706">04</div>
        <div class="ls-toc-txt"><div class="t">ìœ ê¶Œì ê´€ì‹¬ì‚¬ ìš°ì„ ìˆœìœ„</div><div class="d">ìƒí™œë¹„Â·ì¼ìë¦¬Â·ê´€ê´‘Â·ì£¼íƒ</div></div>
      </div>
      <div class="ls-toc-item" style="border-color:#059669" onclick="document.getElementById('s05').scrollIntoView({behavior:'smooth'})">
        <div class="ls-toc-num" style="color:#059669">05</div>
        <div class="ls-toc-txt"><div class="t">íˆ¬í‘œ í–‰ë™ ì˜ˆì¸¡</div><div class="d">ì¡°ê¸°íˆ¬í‘œÂ·ì¡°ì§íˆ¬í‘œÂ·ë§‰íŒ ì´ë™</div></div>
      </div>
      <div class="ls-toc-item" style="border-color:#dc2626" onclick="document.getElementById('s06').scrollIntoView({behavior:'smooth'})">
        <div class="ls-toc-num" style="color:#dc2626">06</div>
        <div class="ls-toc-txt"><div class="t">ì„ ê±° ë¦¬ìŠ¤í¬ ê³µí†µ ìš”ì†Œ</div><div class="d">SNSÂ·ì–¸ë¡ Â·ë„¤ê±°í‹°ë¸ŒÂ·í—ˆìœ„ì •ë³´</div></div>
      </div>
      <div class="ls-toc-item" style="border-color:#0f172a" onclick="document.getElementById('s07').scrollIntoView({behavior:'smooth'})">
        <div class="ls-toc-num" style="color:#0f172a">07</div>
        <div class="ls-toc-txt"><div class="t">ìº í˜ì¸ ìš´ì˜ ê°€ì´ë“œ</div><div class="d">ì •ì±…ë°œí‘œÂ·í† ë¡ Â·ìœ ì„¸Â·ì˜¨ë¼ì¸</div></div>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- S01: ìœ ê¶Œì êµ¬ì¡° ë¶„ì„ -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="ls-section card" id="s01">
    <div class="ls-section-header ls-c1">
      <div class="ls-section-num">01</div>
      <div>
        <div class="ls-section-title">ìœ ê¶Œì êµ¬ì¡° ë¶„ì„</div>
        <div class="ls-section-desc">ì—°ë ¹ëŒ€ë³„ íˆ¬í‘œ ì„±í–¥ Â· ì§ì—…êµ° ê´€ì‹¬ ì´ìŠˆ Â· ì§€ì—­ë³„ íˆ¬í‘œ íŒ¨í„´ Â· í•µì‹¬ ìŠ¤ìœ™ë³´í„° ê·œëª¨</div>
      </div>
    </div>

    <div class="ls-chart-row">
      <div class="card" style="margin:0">
        <div class="card-title">ì—°ë ¹ëŒ€ë³„ ìœ ê¶Œì ë¹„ìœ¨</div>
        <div class="chart-container" style="height:220px">
          <canvas id="ageChart"></canvas>
        </div>
      </div>
      <div class="card" style="margin:0">
        <div class="card-title">ì—°ë ¹ëŒ€ë³„ ì£¼ìš” ê´€ì‹¬ì‚¬</div>
        <div style="display:flex;flex-direction:column;gap:9px;margin-top:4px">
          <div style="padding:10px 12px;border-radius:8px;background:#f0f9ff;border-left:3px solid #0891b2">
            <div style="font-size:12px;font-weight:800;color:#0891b2;margin-bottom:3px">ğŸ“ 18â€“29ì„¸ (18%)</div>
            <div style="font-size:12px;color:#374151">ì¼ìë¦¬Â·ì°½ì—… í™˜ê²½, SNS ì •ì¹˜ ì°¸ì—¬, ì„ëŒ€ë£Œ ë¶€ë‹´, ê¸°í›„Â·í™˜ê²½</div>
          </div>
          <div style="padding:10px 12px;border-radius:8px;background:#eff6ff;border-left:3px solid #3b82f6">
            <div style="font-size:12px;font-weight:800;color:#1e40af;margin-bottom:3px">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ 30â€“44ì„¸ (26%)</div>
            <div style="font-size:12px;color:#374151">êµìœ¡Â·ë³´ìœ¡, ìƒí™œë¹„, ì•ˆì •ì  ì¼ìë¦¬, ì£¼íƒÂ·ì„ëŒ€ë£Œ</div>
          </div>
          <div style="padding:10px 12px;border-radius:8px;background:#f5f3ff;border-left:3px solid #7c3aed">
            <div style="font-size:12px;font-weight:800;color:#6d28d9;margin-bottom:3px">ğŸ’¼ 45â€“59ì„¸ (31%)</div>
            <div style="font-size:12px;color:#374151">ê´€ê´‘ ê²½ì œÂ·ì‚¬ì—… í™˜ê²½, ìë…€ êµìœ¡ë¹„, ì˜ë£Œ ì ‘ê·¼ì„±, ë…¸í›„ ì¤€ë¹„</div>
          </div>
          <div style="padding:10px 12px;border-radius:8px;background:#fef3c7;border-left:3px solid #d97706">
            <div style="font-size:12px;font-weight:800;color:#92400e;margin-bottom:3px">ğŸ§“ 60ì„¸ ì´ìƒ (25%)</div>
            <div style="font-size:12px;color:#374151">ì˜ë£ŒÂ·ì—°ê¸ˆ ì•ˆì •, ì§€ì—­ ì „í†µ ë³´ì¡´, ì¹˜ì•ˆÂ·ì•ˆì „, ì•ˆì •ì  í–‰ì •</div>
          </div>
        </div>
      </div>
    </div>

    <div class="ls-card-grid">
      <div class="ls-data-card">
        <div class="dc-icon">ğŸ—³ï¸</div>
        <div class="dc-val">~68%</div>
        <div class="dc-label">ì˜ˆìƒ íˆ¬í‘œìœ¨</div>
        <div class="dc-sub">ìµœê·¼ 3íšŒ ì„ ê±° í‰ê·  ê¸°ì¤€ ì¶”ì •ì¹˜</div>
      </div>
      <div class="ls-data-card">
        <div class="dc-icon">âš–ï¸</div>
        <div class="dc-val">~22%</div>
        <div class="dc-label">ìŠ¤ìœ™ë³´í„° ì¶”ì • ë¹„ìœ¨</div>
        <div class="dc-sub">ì§€ì§€ í›„ë³´ ë¯¸ê²°ì •Â·ì´íƒˆ ê°€ëŠ¥ ìœ ê¶Œì</div>
      </div>
      <div class="ls-data-card">
        <div class="dc-icon">ğŸ˜ï¸</div>
        <div class="dc-val">3ê°œ</div>
        <div class="dc-label">ì£¼ìš” íˆ¬í‘œ ë¸”ë¡</div>
        <div class="dc-sub">ì§€ì—­ ì»¤ë®¤ë‹ˆí‹°Â·ê³µë¬´ì› ê·¸ë£¹Â·ì‚¬ì—…ì ê·¸ë£¹</div>
      </div>
      <div class="ls-data-card">
        <div class="dc-icon">ğŸ“±</div>
        <div class="dc-val">56%</div>
        <div class="dc-label">SNS ì •ë³´ ì˜ì¡´ë„</div>
        <div class="dc-sub">ì„ ê±° ê´€ë ¨ ì •ë³´ë¥¼ SNSë¡œ ìˆ˜ì‹ í•˜ëŠ” ë¹„ìœ¨</div>
      </div>
    </div>

    <div class="ls-insight">
      <strong>ğŸ“Š í•µì‹¬ ì¸ì‚¬ì´íŠ¸</strong><br>
      45â€“59ì„¸ ì¤‘ì¥ë…„ì¸µ(31%)ì´ ìµœë‹¤ ìœ ê¶Œì ê·¸ë£¹ì´ë©° <strong>íˆ¬í‘œìœ¨ë„ ê°€ì¥ ë†’ìŠµë‹ˆë‹¤.</strong>
      ì´ë“¤ì˜ ìµœìš°ì„  ê´€ì‹¬ì‚¬ëŠ” ê´€ê´‘ ê²½ì œÂ·ì‚¬ì—… í™˜ê²½ìœ¼ë¡œ, ì´ ì¸µì˜ ì§€ì§€ë¥¼ í™•ë³´í•˜ëŠ” ìº í”„ê°€ ì„ ê±° ì£¼ë„ê¶Œì„ ê°–ìŠµë‹ˆë‹¤.
      ìŠ¤ìœ™ë³´í„°(22%)ëŠ” ì†Œê·œëª¨ ì„ ê±°ì—ì„œ <strong>ë‹¹ë½ì„ ê°€ë¥´ëŠ” ê²°ì •ì  ë³€ìˆ˜</strong>ì…ë‹ˆë‹¤.
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- S02: ì„ ê±° íŒì„¸ êµ¬ì¡° ë¶„ì„ -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="ls-section card" id="s02">
    <div class="ls-section-header ls-c2">
      <div class="ls-section-num">02</div>
      <div>
        <div class="ls-section-title">ì„ ê±° íŒì„¸ êµ¬ì¡° ë¶„ì„</div>
        <div class="ls-section-desc">ì´ë²ˆ ì„ ê±°ì˜ ê²°ì • ë³€ìˆ˜ Â· ìŠ¹íŒ¨ë¥¼ ê°€ë¥´ëŠ” ìš”ì†Œ Â· íˆ¬í‘œìœ¨ ì˜í–¥ ìš”ì¸ Â· ë¶€ë™ì¸µ íŠ¹ì„±</div>
      </div>
    </div>

    <div class="grid-2" style="gap:16px;margin-bottom:16px">
      <div>
        <div style="font-size:13px;font-weight:800;color:#1e40af;margin-bottom:10px">ğŸ”‘ í•µì‹¬ ê²°ì • ë³€ìˆ˜</div>
        <div style="display:flex;flex-direction:column;gap:8px">
          <div class="risk-item" style="border-left-color:#1e40af">
            <div class="risk-icon">ğŸ’°</div>
            <div class="risk-content">
              <div class="risk-title">ê²½ì œ íšŒë³µ ê°€ì†í™” ì—¬ë¶€</div>
              <div class="risk-desc">ê´€ê´‘Â·ì†Œë¹„ íšŒë³µ ì†ë„ê°€ ìœ ê¶Œì íŒë‹¨ì˜ ê¸°ì¤€ì ì´ ë©ë‹ˆë‹¤. ì²´ê° ê²½ê¸°ê°€ ì„ ê±° ë¶„ìœ„ê¸°ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.</div>
            </div>
          </div>
          <div class="risk-item" style="border-left-color:#7c3aed">
            <div class="risk-icon">ğŸŒ€</div>
            <div class="risk-content">
              <div class="risk-title">ì„¸ëŒ€êµì²´ ìš”êµ¬ ê°•ë„</div>
              <div class="risk-desc">ë³€í™”ë¥¼ ì›í•˜ëŠ” ìœ ê¶Œìì™€ ì•ˆì •ì„ ì›í•˜ëŠ” ìœ ê¶Œì ê°„ ë¶„ì—´ êµ¬ë„ê°€ ì´ë²ˆ ì„ ê±°ì˜ í•µì‹¬ ê¸´ì¥ì¶•ì…ë‹ˆë‹¤.</div>
            </div>
          </div>
          <div class="risk-item" style="border-left-color:#dc2626">
            <div class="risk-icon">âš ï¸</div>
            <div class="risk-content">
              <div class="risk-title">í›„ë³´ ê²€ì¦ ì´ìŠˆ ë°œìƒ ì—¬ë¶€</div>
              <div class="risk-desc">ì„ ê±° í›„ë°˜ ê²€ì¦ ê³µë°©ì´ íŒì„¸ë¥¼ ê¸‰ë³€ì‹œí‚¬ ìˆ˜ ìˆëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤. ë¦¬ìŠ¤í¬ ê´€ë¦¬ê°€ í•µì‹¬ì…ë‹ˆë‹¤.</div>
            </div>
          </div>
        </div>
      </div>
      <div>
        <div style="font-size:13px;font-weight:800;color:#1e40af;margin-bottom:10px">ğŸ“‰ íˆ¬í‘œìœ¨ ì˜í–¥ ìš”ì¸</div>
        <div style="display:flex;flex-direction:column;gap:8px">
          <div style="padding:12px;background:#eff6ff;border-radius:8px;border-left:3px solid #2563eb">
            <div style="font-size:12px;font-weight:800;color:#1e40af;margin-bottom:4px">ğŸ“ˆ ìƒìŠ¹ ìš”ì¸</div>
            <div style="font-size:12px;color:#374151;line-height:1.65">ê²½ìŸ êµ¬ë„ ì‹¬í™” / ê²½ì œ ì´ìŠˆ ê°•ë„ / ì¡°ì§ ë™ì›ë ¥ ê°•í™” / SNS ì„ ê±° ê´€ì‹¬ë„ ìƒìŠ¹</div>
          </div>
          <div style="padding:12px;background:#fef2f2;border-radius:8px;border-left:3px solid #dc2626">
            <div style="font-size:12px;font-weight:800;color:#991b1b;margin-bottom:4px">ğŸ“‰ í•˜ë½ ìš”ì¸</div>
            <div style="font-size:12px;color:#374151;line-height:1.65">í›„ë³´ ì°¨ë³„ì„± ë¶€ì¬ / ì •ì¹˜ ë¶ˆì‹  í™•ì‚° / ì´ìŠˆ ë¶€ì¬ / ì•…ì²œí›„Â·íˆ¬í‘œì¼ ìš”ì¸</div>
          </div>
          <div style="padding:12px;background:#f0fdf4;border-radius:8px;border-left:3px solid #16a34a">
            <div style="font-size:12px;font-weight:800;color:#166534;margin-bottom:4px">ğŸ‘¥ ë¶€ë™ì¸µ íŠ¹ì„±</div>
            <div style="font-size:12px;color:#374151;line-height:1.65">ì¤‘ë„Â·ì‹¤ìš© ì„±í–¥ / ê²½ì œÂ·ìƒí™œ ì´ìŠˆ ë°˜ì‘ / ì„ ê±° ë§‰íŒ 2ì£¼ ë‚´ ê²°ì • ë¹„ìœ¨ <strong>ì•½ 65%</strong></div>
          </div>
        </div>
      </div>
    </div>

    <div class="ls-insight">
      <strong>ğŸ“Š í•µì‹¬ ì¸ì‚¬ì´íŠ¸</strong><br>
      ë¶€ë™ì¸µì˜ <strong>ì•½ 65%ê°€ ì„ ê±° ë§ˆì§€ë§‰ 2ì£¼ ë‚´ì— ìµœì¢… ê²°ì •</strong>í•©ë‹ˆë‹¤.
      ì´ ê¸°ê°„ì˜ ë©”ì‹œì§€ ì§‘ì¤‘ë„Â·ë¯¸ë””ì–´ ë…¸ì¶œì´ ê°€ì¥ ê²°ì •ì ì…ë‹ˆë‹¤.
      ì´ˆë°˜ ì§€ì§€ìœ¨ ê²©ì°¨ë³´ë‹¤ <strong>ë§‰íŒ 2ì£¼ ìº í˜ì¸ ì „ëµì´ ì‹¤ì œ ê²°ê³¼ë¥¼ ì¢Œìš°</strong>í•  ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- S03: ì„ ê±° í”„ë ˆì„ ë¶„ì„ -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="ls-section card" id="s03">
    <div class="ls-section-header ls-c3">
      <div class="ls-section-num">03</div>
      <div>
        <div class="ls-section-title">ì„ ê±° í”„ë ˆì„ ë¶„ì„</div>
        <div class="ls-section-desc">ì–´ë–¤ í”„ë ˆì„ìœ¼ë¡œ ì„ ê±°ê°€ ì§„í–‰ë˜ëŠëƒì— ë”°ë¼ ìœ ë¦¬í•œ í›„ë³´ ìœ í˜•ì´ ë‹¬ë¼ì§‘ë‹ˆë‹¤ â€” ì´ë¦„ ì—†ì´, ìœ í˜•ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤</div>
      </div>
    </div>

    <div class="type-legend">
      <div class="type-badge" style="background:#eff6ff;color:#1e40af;border-color:#3b82f6">ğŸ›ï¸ í–‰ì •í˜•</div>
      <div class="type-badge" style="background:#f0fdf4;color:#166534;border-color:#16a34a">ğŸ”¥ ê°œí˜í˜•</div>
      <div class="type-badge" style="background:#fef3c7;color:#92400e;border-color:#d97706">â­ ì‹ ì¸í˜•</div>
      <div class="type-badge" style="background:#fef2f2;color:#991b1b;border-color:#dc2626">ğŸ”„ í˜„ì§í˜•</div>
      <div class="type-badge" style="background:#f5f3ff;color:#5b21b6;border-color:#7c3aed">ğŸ“ ì „ë¬¸í˜•</div>
      <div style="font-size:11px;color:#4b5563;display:flex;align-items:center;margin-left:4px">â† íŠ¹ì • í›„ë³´ ì´ë¦„ ëŒ€ì‹  í›„ë³´ ìœ í˜•ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤</div>
    </div>

    <div class="table-wrap">
      <table class="frame-table">
        <thead>
          <tr>
            <th style="min-width:140px">ì„ ê±° í”„ë ˆì„</th>
            <th>ìœ ë¦¬í•œ í›„ë³´ ìœ í˜•</th>
            <th>ë¶ˆë¦¬í•œ í›„ë³´ ìœ í˜•</th>
            <th style="min-width:80px">ë°œìƒ í™•ë¥ </th>
            <th>í˜„ì¬ ì§„í–‰ ì§•í›„</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <strong>ğŸ’° ê²½ì œ ì„ ê±°</strong><br>
              <span style="font-size:11px;color:#374151">ìƒí™œë¹„Â·ì¼ìë¦¬Â·ê²½ê¸°íšŒë³µ ì¤‘ì‹¬</span>
            </td>
            <td>
              <span class="frame-type-badge" style="background:#eff6ff;color:#1e40af">ğŸ›ï¸ í–‰ì •í˜•</span>
              <span class="frame-type-badge" style="background:#fef2f2;color:#991b1b">ğŸ”„ í˜„ì§í˜•</span>
            </td>
            <td>
              <span class="frame-type-badge" style="background:#fef3c7;color:#92400e">â­ ì‹ ì¸í˜•</span>
            </td>
            <td><span class="frame-prob" style="background:#dcfce7;color:#166534">35%</span></td>
            <td style="font-size:12px;color:#374151">ë¬¼ê°€ ë¶ˆë§Œ SNS í™•ì‚° ì¤‘ Â· ìƒí™œë¹„ ì´ìŠˆ ìƒìœ„ê¶Œ</td>
          </tr>
          <tr>
            <td>
              <strong>ğŸŒ€ ì„¸ëŒ€êµì²´ ì„ ê±°</strong><br>
              <span style="font-size:11px;color:#374151">ë³€í™”Â·í˜ì‹ Â·ìƒˆ ì¸ë¬¼ ìš”êµ¬ ì¤‘ì‹¬</span>
            </td>
            <td>
              <span class="frame-type-badge" style="background:#f0fdf4;color:#166534">ğŸ”¥ ê°œí˜í˜•</span>
              <span class="frame-type-badge" style="background:#fef3c7;color:#92400e">â­ ì‹ ì¸í˜•</span>
            </td>
            <td>
              <span class="frame-type-badge" style="background:#fef2f2;color:#991b1b">ğŸ”„ í˜„ì§í˜•</span>
              <span class="frame-type-badge" style="background:#eff6ff;color:#1e40af">ğŸ›ï¸ í–‰ì •í˜•</span>
            </td>
            <td><span class="frame-prob" style="background:#dbeafe;color:#1e40af">28%</span></td>
            <td style="font-size:12px;color:#374151">ì²­ë…„ì¸µ ì •ì¹˜ ì°¸ì—¬ ì¦ê°€ Â· ë³€í™” ìš”êµ¬ ì—¬ë¡  í™•ì‚°</td>
          </tr>
          <tr>
            <td>
              <strong>ğŸ›¡ï¸ ì•ˆì •Â·ê²€ì¦ ì„ ê±°</strong><br>
              <span style="font-size:11px;color:#374151">ê²½í—˜Â·ì‹ ë¢°Â·ì•ˆì •ê° ì¤‘ì‹¬</span>
            </td>
            <td>
              <span class="frame-type-badge" style="background:#fef2f2;color:#991b1b">ğŸ”„ í˜„ì§í˜•</span>
              <span class="frame-type-badge" style="background:#eff6ff;color:#1e40af">ğŸ›ï¸ í–‰ì •í˜•</span>
            </td>
            <td>
              <span class="frame-type-badge" style="background:#fef3c7;color:#92400e">â­ ì‹ ì¸í˜•</span>
            </td>
            <td><span class="frame-prob" style="background:#fef3c7;color:#92400e">25%</span></td>
            <td style="font-size:12px;color:#374151">ì¤‘ì¥ë…„Â·ì‹œë‹ˆì–´ì¸µ ì•ˆì • ì„ í˜¸ í™•ì¸</td>
          </tr>
          <tr>
            <td>
              <strong>ğŸ“ ì´ìŠˆÂ·ì „ë¬¸ì„± ì„ ê±°</strong><br>
              <span style="font-size:11px;color:#374151">íŠ¹ì • ì •ì±…Â·ì „ë¬¸ ë¶„ì•¼ ì´ìŠˆ ì¤‘ì‹¬</span>
            </td>
            <td>
              <span class="frame-type-badge" style="background:#f5f3ff;color:#5b21b6">ğŸ“ ì „ë¬¸í˜•</span>
            </td>
            <td style="font-size:12px;color:#374151">ì¼ë°˜ ì •ì¹˜ì¸ ìœ í˜• ì „ë°˜</td>
            <td><span class="frame-prob" style="background:#f1f5f9;color:#374151">12%</span></td>
            <td style="font-size:12px;color:#374151">íŠ¹ì • ëŒë°œ ì´ìŠˆ ë°œìƒ ì‹œ ê¸‰ë³€ ê°€ëŠ¥</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="ls-insight" style="margin-top:16px">
      <strong>ğŸ“Š í•µì‹¬ ì¸ì‚¬ì´íŠ¸</strong><br>
      í˜„ì¬ëŠ” <strong>ê²½ì œ ì„ ê±°(35%) ê°€ëŠ¥ì„±ì´ ê°€ì¥ ë†’ìŠµë‹ˆë‹¤.</strong>
      ê·¸ëŸ¬ë‚˜ ì–´ëŠ ìº í”„ê°€ ì–´ë–¤ í”„ë ˆì„ì„ ë¨¼ì € ì„ ì í•˜ëŠëƒì— ë”°ë¼ íŒì„¸ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤.
      ìì‹ ì—ê²Œ ìœ ë¦¬í•œ í”„ë ˆì„ì„ ì„ ì œ ì„¤ì •í•˜ëŠ” ìº í”„ê°€ ì„ ê±° ì£¼ë„ê¶Œì„ ê°–ê²Œ ë©ë‹ˆë‹¤.
      <strong>í”„ë ˆì„ ì„¤ì •ì˜ ê³¨ë“  êµ¬ê°„ì€ ì„ ê±° ê³µì‹ ì‹œì‘ í›„ ì´ˆë°˜ 6ì£¼</strong>ì…ë‹ˆë‹¤.
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- S04: ìœ ê¶Œì ê´€ì‹¬ì‚¬ ìš°ì„ ìˆœìœ„ -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="ls-section card" id="s04">
    <div class="ls-section-header ls-c4">
      <div class="ls-section-num">04</div>
      <div>
        <div class="ls-section-title">ìœ ê¶Œì ê´€ì‹¬ì‚¬ ìš°ì„ ìˆœìœ„</div>
        <div class="ls-section-desc">ëª¨ë“  ìº í”„ê°€ ê°€ì¥ ì›í•˜ëŠ” ë°ì´í„° â€” ìœ ê¶Œìê°€ ì‹¤ì œë¡œ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ì´ìŠˆ ìˆœìœ„</div>
      </div>
    </div>

    <div class="grid-2" style="gap:20px">
      <div>
        <div style="font-size:13px;font-weight:800;color:#92400e;margin-bottom:14px">ğŸ“Š ì´ìŠˆ ì¤‘ìš”ë„ ì§€ìˆ˜ (100ì  ê¸°ì¤€)</div>
        <div id="interestBars"></div>
      </div>
      <div>
        <div class="card" style="margin:0;padding:0;overflow:hidden">
          <div style="background:#d97706;color:white;padding:12px 16px;font-weight:800;font-size:13px">ğŸ¥‡ Top 3 í•µì‹¬ ì´ìŠˆ ì‹¬ì¸µ ë¶„ì„</div>
          <div style="padding:16px;display:flex;flex-direction:column;gap:12px">
            <div style="padding:12px;background:#fffbeb;border-radius:8px;border-left:4px solid #f59e0b">
              <div style="font-size:13px;font-weight:800;color:#92400e;margin-bottom:5px">ğŸ’° ìƒí™œë¹„Â·ë¬¼ê°€ (87ì )</div>
              <div style="font-size:12px;color:#374151;line-height:1.65">ì‹ë£Œí’ˆÂ·ì—°ë£ŒÂ·ì„ëŒ€ë£Œ ìƒìŠ¹ì— ëŒ€í•œ ì§ì ‘ì  ë¶ˆë§Œ. ì†Œë“ ëŒ€ë¹„ ìƒí™œë¹„ ë¹„ìœ¨ì´ ë†’ì•„ ì „ ì—°ë ¹ì¸µì—ì„œ ìµœìš°ì„  ì´ìŠˆë¡œ ë¶€ìƒ.</div>
            </div>
            <div style="padding:12px;background:#f0fdf4;border-radius:8px;border-left:4px solid #16a34a">
              <div style="font-size:13px;font-weight:800;color:#166534;margin-bottom:5px">ğŸ’¼ ì¼ìë¦¬ ì°½ì¶œ (82ì )</div>
              <div style="font-size:12px;color:#374151;line-height:1.65">ì²­ë…„ì¸µ ì·¨ì—…ë‚œÂ·ì¤‘ì¥ë…„ì¸µ ê³ ìš© ë¶ˆì•ˆì´ ê²¹ì¹˜ë©° ì¤‘ìš”ë„ ìƒìŠ¹. ê´€ê´‘ì—… ì™¸ ë‹¤ì–‘í•œ ì‚°ì—… ìœ ì¹˜ ìš”êµ¬ ì¦ê°€.</div>
            </div>
            <div style="padding:12px;background:#fff7ed;border-radius:8px;border-left:4px solid #ea580c">
              <div style="font-size:13px;font-weight:800;color:#9a3412;margin-bottom:5px">ğŸŒº ê´€ê´‘ ê²½ì œ (78ì )</div>
              <div style="font-size:12px;color:#374151;line-height:1.65">ê´€ê´‘ì—… ì˜ì¡´ë„ ë†’ì€ ê²½ì œ êµ¬ì¡°ìƒ ê´€ê´‘ íšŒë³µ ì†ë„ê°€ ì§€ì—­ ì „ë°˜ì— ì§ê²°. ì‚¬ì—…ìÂ·ì„œë¹„ìŠ¤ì—… ì§‘ì¤‘ ê´€ì‹¬.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="ls-insight" style="margin-top:16px">
      <strong>ğŸ“Š í•µì‹¬ ì¸ì‚¬ì´íŠ¸</strong><br>
      <strong>ìƒí™œë¹„Â·ì¼ìë¦¬Â·ê´€ê´‘</strong>ì´ 3ëŒ€ í•µì‹¬ ì´ìŠˆì…ë‹ˆë‹¤.
      ì´ ì„¸ ê°€ì§€ì— êµ¬ì²´ì ì¸ ì •ì±… ë‹µë³€ì„ ì œì‹œí•˜ëŠ” ìº í”„ê°€ ë¶€ë™ì¸µì„ í¡ìˆ˜í•  ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.
      ì¹˜ì•ˆÂ·í™˜ê²½ ì´ìŠˆëŠ” í˜„ì¬ ë‚®ì§€ë§Œ, <strong>íŠ¹ì • ì‚¬ê±´ ë°œìƒ ì‹œ ìˆœìœ„ê°€ ê¸‰ë“±</strong>í•  ìˆ˜ ìˆì–´ ìƒì‹œ ëª¨ë‹ˆí„°ë§ì´ í•„ìš”í•©ë‹ˆë‹¤.
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- S05: íˆ¬í‘œ í–‰ë™ ì˜ˆì¸¡ -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="ls-section card" id="s05">
    <div class="ls-section-header ls-c5">
      <div class="ls-section-num">05</div>
      <div>
        <div class="ls-section-title">íˆ¬í‘œ í–‰ë™ ì˜ˆì¸¡</div>
        <div class="ls-section-desc">ì¡°ê¸°íˆ¬í‘œ ì˜í–¥ Â· ì»¤ë®¤ë‹ˆí‹° íˆ¬í‘œ ì˜í–¥ Â· ì¡°ì§ íˆ¬í‘œ íš¨ê³¼ Â· ë§ˆì§€ë§‰ 2ì£¼ í‘œ ì´ë™ íŒ¨í„´</div>
      </div>
    </div>

    <div class="vote-pattern-grid" style="margin-bottom:20px">
      <div class="vp-card">
        <div style="position:absolute;top:0;left:0;right:0;height:3px;background:#059669"></div>
        <div class="vp-icon">ğŸ—“ï¸</div>
        <div class="vp-title">ì¡°ê¸° íˆ¬í‘œ</div>
        <div class="vp-pct" style="color:#059669">~30%</div>
        <div class="vp-desc">ì „ì²´ íˆ¬í‘œì˜ ì•½ 30%ê°€ ì¡°ê¸° íˆ¬í‘œë¡œ ì§‘ê³„ë©ë‹ˆë‹¤. ì¡°ì§ë ¥ ê°•í•œ ìº í”„ì— ìœ ë¦¬í•˜ë©°, ì¡°ê¸° íˆ¬í‘œ ì‹œì‘ 2ì¼ ì „ê¹Œì§€ì˜ ì§€ì§€ì¸µ ê²°ì§‘ì´ í•µì‹¬ì…ë‹ˆë‹¤.</div>
      </div>
      <div class="vp-card">
        <div style="position:absolute;top:0;left:0;right:0;height:3px;background:#0891b2"></div>
        <div class="vp-icon">ğŸ˜ï¸</div>
        <div class="vp-title">ì»¤ë®¤ë‹ˆí‹° íˆ¬í‘œ</div>
        <div class="vp-pct" style="color:#0891b2">Â±8%p</div>
        <div class="vp-desc">íŠ¹ì • ì§€ì—­ ì»¤ë®¤ë‹ˆí‹°Â·ì¢…êµ ê·¸ë£¹ì˜ ì§‘ë‹¨ì  íˆ¬í‘œ í–‰ë™ì´ ìµœëŒ€ Â±8%p ë³€ë™ì„ ì¼ìœ¼í‚µë‹ˆë‹¤. ì£¼ìš” ì»¤ë®¤ë‹ˆí‹° ë¦¬ë” ì§€ì§€ê°€ ê²°ì •ì ì…ë‹ˆë‹¤.</div>
      </div>
      <div class="vp-card">
        <div style="position:absolute;top:0;left:0;right:0;height:3px;background:#7c3aed"></div>
        <div class="vp-icon">ğŸ›ï¸</div>
        <div class="vp-title">ì¡°ì§ íˆ¬í‘œ</div>
        <div class="vp-pct" style="color:#7c3aed">~18%</div>
        <div class="vp-desc">ê³µë¬´ì›Â·ë…¸ì¡°Â·í˜‘íšŒ ë“± ì¡°ì§í™”ëœ ì§‘ë‹¨ì˜ íˆ¬í‘œìœ¨ì€ ì¼ë°˜ ìœ ê¶Œìë³´ë‹¤ 15â€“20%p ë†’ìŠµë‹ˆë‹¤. ì´ ë¸”ë¡ í™•ë³´ê°€ ì„ ê±° ê¸°ë°˜ì„ ê²°ì •í•©ë‹ˆë‹¤.</div>
      </div>
      <div class="vp-card">
        <div style="position:absolute;top:0;left:0;right:0;height:3px;background:#dc2626"></div>
        <div class="vp-icon">ğŸ“…</div>
        <div class="vp-title">ë§‰íŒ 2ì£¼ ì´ë™</div>
        <div class="vp-pct" style="color:#dc2626">65%</div>
        <div class="vp-desc">ë¶€ë™ì¸µì˜ 65%ê°€ ì„ ê±° ë§ˆì§€ë§‰ 2ì£¼ ë‚´ì— ìµœì¢… ê²°ì •í•©ë‹ˆë‹¤. ë§‰íŒ ì´ìŠˆ ê´€ë¦¬ì™€ ë¯¸ë””ì–´ ì „ëµì´ ê°€ì¥ ê²°ì •ì ì¸ êµ¬ê°„ì…ë‹ˆë‹¤.</div>
      </div>
    </div>

    <div class="card" style="margin:0 0 0 0;padding:20px">
      <div class="card-title">ì„ ê±° êµ¬ê°„ë³„ í‘œ ì´ë™ íŒ¨í„´</div>
      <div class="chart-container" style="height:200px">
        <canvas id="voteFlowChart"></canvas>
      </div>
    </div>

    <div class="ls-insight" style="margin-top:16px">
      <strong>ğŸ“Š í•µì‹¬ ì¸ì‚¬ì´íŠ¸</strong><br>
      ì†Œê·œëª¨ ì„ ê±°ì¼ìˆ˜ë¡ <strong>ì¡°ì§Â·ì»¤ë®¤ë‹ˆí‹° íˆ¬í‘œì˜ ì˜í–¥ë ¥ì´ ì ˆëŒ€ì </strong>ì…ë‹ˆë‹¤.
      ë§‰íŒ 2ì£¼ëŠ” "ì§€ì§€ì¸µ êµ³íˆê¸°"ì™€ "ë¶€ë™ì¸µ ì „í™˜" ë‘ ì „ëµì„ ë™ì‹œì— ìš´ì˜í•´ì•¼ í•©ë‹ˆë‹¤.
      ì¡°ê¸° íˆ¬í‘œ ë§ˆê° í›„ ì”ì—¬ í‘œ ê·œëª¨ë¥¼ ë¹ ë¥´ê²Œ íŒŒì•…í•˜ê³  <strong>ë‚¨ì€ ìœ ê¶Œìì—ê²Œ ì§‘ì¤‘í•˜ëŠ” ë°ì´í„° ì „ëµ</strong>ì´ í•„ìš”í•©ë‹ˆë‹¤.
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- S06: ì„ ê±° ë¦¬ìŠ¤í¬ ê³µí†µ ìš”ì†Œ -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="ls-section card" id="s06">
    <div class="ls-section-header ls-c6">
      <div class="ls-section-num">06</div>
      <div>
        <div class="ls-section-title">ì„ ê±° ë¦¬ìŠ¤í¬ ê³µí†µ ìš”ì†Œ</div>
        <div class="ls-section-desc">SNS ì´ìŠˆ ë°œìƒ íŒ¨í„´ Â· ì–¸ë¡  ê³µê²© ë°œìƒ ì‹œê¸° Â· ì„ ê±° ë§‰íŒ ë„¤ê±°í‹°ë¸Œ íƒ€ì´ë° Â· í—ˆìœ„ì •ë³´ í™•ì‚° êµ¬ì¡°</div>
      </div>
    </div>

    <div class="risk-timeline">
      <div class="risk-item" style="border-left-color:#dc2626">
        <div class="risk-icon">ğŸ“±</div>
        <div class="risk-content">
          <div class="risk-title">SNS ì´ìŠˆ ë°œìƒ íŒ¨í„´</div>
          <div class="risk-desc">
            ê³µì‹ ë“±ë¡ í›„ SNSì—ì„œ í›„ë³´ ê´€ë ¨ ì´ìŠˆê°€ ì§‘ì¤‘ ìƒì‚°ë©ë‹ˆë‹¤.
            ì„ ê±° ê¸°ê°„ ì¤‘ í‰ê·  3â€“4ê°œì˜ ì£¼ìš” ì´ìŠˆê°€ ë°”ì´ëŸ´ë˜ë©°, ì´ìŠˆì˜ 60%ëŠ” ê³¼ê±° ë°œì–¸Â·í–‰ì ì—ì„œ ë¹„ë¡¯ë©ë‹ˆë‹¤.
            ë‹¨ 48ì‹œê°„ ë‚´ í™•ì‚°ì´ ì™„ë£Œë˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.
          </div>
          <span class="risk-timing">ğŸ“… ê³µì‹ ë“±ë¡ ì§í›„ ~ D-30</span>
        </div>
      </div>
      <div class="risk-item" style="border-left-color:#d97706">
        <div class="risk-icon">ğŸ“°</div>
        <div class="risk-content">
          <div class="risk-title">ì–¸ë¡  ê³µê²© ë°œìƒ ì‹œê¸°</div>
          <div class="risk-desc">
            ì„ ë‘ í›„ë³´ì— ëŒ€í•œ ì–¸ë¡ ì˜ ì§‘ì¤‘ ê²€ì¦ì´ D-45~D-30 êµ¬ê°„ì— ì§‘ì¤‘ë©ë‹ˆë‹¤.
            2ìœ„ ì´í•˜ í›„ë³´ë“¤ì´ ë¯¸ë””ì–´ë¥¼ í†µí•´ ì„ ë‘ë¥¼ ê³µëµí•˜ëŠ” íŒ¨í„´ì´ ë°˜ë³µë©ë‹ˆë‹¤.
            ì´ ì‹œê¸°ë¥¼ ëŒ€ë¹„í•œ ì‚¬ì „ í¬ì§€ì…”ë‹ì´ í•„ìš”í•©ë‹ˆë‹¤.
          </div>
          <span class="risk-timing">ğŸ“… D-45 ~ D-30 ì§‘ì¤‘ ë°œìƒ</span>
        </div>
      </div>
      <div class="risk-item" style="border-left-color:#7c3aed">
        <div class="risk-icon">âš ï¸</div>
        <div class="risk-content">
          <div class="risk-title">ì„ ê±° ë§‰íŒ ë„¤ê±°í‹°ë¸Œ íƒ€ì´ë°</div>
          <div class="risk-desc">
            ê³µì‹ ì„ ê±° ê¸°ê°„(D-14~D-1)ì— ë°˜ë°• ì‹œê°„ì´ ë¶€ì¡±í•œ ë„¤ê±°í‹°ë¸Œ ê³µë°©ì´ ì§‘ì¤‘ë©ë‹ˆë‹¤.
            ì´ ì‹œê¸° ëŒ€ì‘ ì „ëµì„ ì‚¬ì „ì— ì¤€ë¹„í•˜ì§€ ì•Šì€ ìº í”„ëŠ” ëŒ€ì‘ ì‹¤íŒ¨ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.
            ì„ ì œì  íŒ©íŠ¸ì²´í¬ ì¤€ë¹„ê°€ í•µì‹¬ì…ë‹ˆë‹¤.
          </div>
          <span class="risk-timing">ğŸ“… D-14 ~ D-3 Â· ìµœê³  ìœ„í—˜ êµ¬ê°„</span>
        </div>
      </div>
      <div class="risk-item" style="border-left-color:#0891b2">
        <div class="risk-icon">ğŸ¤–</div>
        <div class="risk-content">
          <div class="risk-title">í—ˆìœ„ì •ë³´ í™•ì‚° êµ¬ì¡°</div>
          <div class="risk-desc">
            ì†Œê·œëª¨ ì»¤ë®¤ë‹ˆí‹°ì—ì„œëŠ” ì¹´ì¹´ì˜¤í†¡Â·Facebook ë©”ì‹ ì €ë¥¼ í†µí•œ í—ˆìœ„ì •ë³´ í™•ì‚° ì†ë„ê°€ ë§¤ìš° ë¹ ë¦…ë‹ˆë‹¤.
            72ì‹œê°„ ë‚´ ëŒ€ì‘í•˜ì§€ ì•Šìœ¼ë©´ 'ê¸°ì •ì‚¬ì‹¤í™”'ë˜ëŠ” ê²½í–¥ì´ ìˆìœ¼ë©°,
            ì¹¨ë¬µë³´ë‹¤ ì¦‰ê°ì Â·ì„±ì‹¤í•œ í•´ëª…ì´ í›¨ì”¬ íš¨ê³¼ì ì…ë‹ˆë‹¤.
          </div>
          <span class="risk-timing">ğŸ“… ì„ ê±° ê¸°ê°„ ì „ì²´ Â· D-7 ì´í›„ ê¸‰ì¦</span>
        </div>
      </div>
    </div>

    <div class="ls-insight">
      <strong>ğŸ“Š í•µì‹¬ ì¸ì‚¬ì´íŠ¸</strong><br>
      ë¦¬ìŠ¤í¬ëŠ” <strong>ì˜ˆë°©ì´ ëŒ€ì‘ë³´ë‹¤ 10ë°° íš¨ìœ¨ì </strong>ì…ë‹ˆë‹¤.
      ê³¼ê±° ë°œì–¸Â·í–‰ì ì„ ì‚¬ì „ ê²€í† í•˜ê³ , SNS ëª¨ë‹ˆí„°ë§ ì²´ê³„ë¥¼ êµ¬ì¶•í•˜ë©°,
      í—ˆìœ„ì •ë³´ ëŒ€ì‘ ë§¤ë‰´ì–¼ì„ ë¯¸ë¦¬ ì¤€ë¹„í•´ ë‘ëŠ” ìº í”„ê°€ ë§‰íŒ íŒì„¸ í”ë“¤ë¦¼ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- S07: ìº í˜ì¸ ìš´ì˜ ê°€ì´ë“œ -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="ls-section card" id="s07">
    <div class="ls-section-header ls-c7">
      <div class="ls-section-num">07</div>
      <div>
        <div class="ls-section-title">ìº í˜ì¸ ìš´ì˜ ê°€ì´ë“œ</div>
        <div class="ls-section-desc">ì •ì±… ë°œí‘œ íƒ€ì´ë° Â· í† ë¡ íšŒ ëŒ€ì‘ êµ¬ì¡° Â· ìœ ì„¸ ì¼ì • ì„¤ê³„ Â· ì˜¨ë¼ì¸ ìº í˜ì¸ ì „ëµ ì›ì¹™</div>
      </div>
    </div>

    <div class="guide-grid" style="margin-bottom:20px">
      <div class="guide-card" style="border-top-color:#0891b2">
        <div class="gc-phase" style="color:#0891b2">PHASE 1 Â· D-90 ~ D-60</div>
        <div class="gc-title">ğŸš€ í¬ì§€ì…”ë‹ ë‹¨ê³„</div>
        <ul class="gc-items">
          <li>í•µì‹¬ 1â€“2ê°œ ì •ì±… ì„ ì œ ë°œí‘œ</li>
          <li>ì§€ì§€ì¸µ êµ¬ì¶• ë° ì¡°ì§ ì •ë¹„</li>
          <li>ë¸Œëœë“œ ì´ë¯¸ì§€ ì´ˆê¸° í™•ë¦½</li>
          <li>SNS ì±„ë„ êµ¬ì¶•Â·íŒ”ë¡œì›Œ í™•ëŒ€</li>
          <li>ì£¼ìš” ì»¤ë®¤ë‹ˆí‹° ë¦¬ë” ì ‘ì´‰ ì‹œì‘</li>
        </ul>
      </div>
      <div class="guide-card" style="border-top-color:#7c3aed">
        <div class="gc-phase" style="color:#7c3aed">PHASE 2 Â· D-60 ~ D-30</div>
        <div class="gc-title">ğŸ“£ ê³µì„¸ ë‹¨ê³„</div>
        <ul class="gc-items">
          <li>ì£¼ìš” ì •ì±… íŒ¨í‚¤ì§€ ìˆœì°¨ ë°œí‘œ</li>
          <li>ë¯¸ë””ì–´ ì¸í„°ë·° ì§‘ì¤‘ í™•ëŒ€</li>
          <li>í† ë¡ íšŒ ì¤€ë¹„Â·ëŒ€ì‘ í›ˆë ¨</li>
          <li>ì§€ì—­ë³„ ì§‘ì¤‘ ìœ ì„¸ ì‹œì‘</li>
          <li>ì˜¨ë¼ì¸ ê´‘ê³  ì§‘í–‰ ë³¸ê²©í™”</li>
        </ul>
      </div>
      <div class="guide-card" style="border-top-color:#d97706">
        <div class="gc-phase" style="color:#d97706">PHASE 3 Â· D-30 ~ D-14</div>
        <div class="gc-title">ğŸ¯ ì§‘ì¤‘ ë‹¨ê³„</div>
        <ul class="gc-items">
          <li>ë¶€ë™ì¸µ íƒ€ê²Ÿ ë©”ì‹œì§€ ì§‘ì¤‘</li>
          <li>ì§€ì§€ì¸µ ì¡°ê¸° íˆ¬í‘œ ë…ë ¤ ì‹œì‘</li>
          <li>ë¦¬ìŠ¤í¬Â·SNS ëª¨ë‹ˆí„°ë§ ê°•í™”</li>
          <li>ëŒ€í˜• ì§‘íšŒÂ·ì´ë²¤íŠ¸ ê°œìµœ</li>
          <li>ê²½ìŸ í›„ë³´ ë™í–¥ ì‹¤ì‹œê°„ ë¶„ì„</li>
        </ul>
      </div>
      <div class="guide-card" style="border-top-color:#dc2626">
        <div class="gc-phase" style="color:#dc2626">PHASE 4 Â· D-14 ~ D-Day</div>
        <div class="gc-title">ğŸ”¥ ê²°ì „ ë‹¨ê³„</div>
        <ul class="gc-items">
          <li>í—ˆìœ„ì •ë³´ ì¦‰ê° ëŒ€ì‘ ì²´ê³„ ê°€ë™</li>
          <li>ì§€ì§€ì¸µ íˆ¬í‘œ ì°¸ì—¬ ì´ë™ì›</li>
          <li>ì„ ê±° ë‹¹ì¼ íˆ¬í‘œì†Œë³„ ì°¸ê´€ ë°°ì¹˜</li>
          <li>SNS ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§Â·ëŒ€ì‘</li>
          <li>ë§‰íŒ ë¶€ë™ì¸µ ì „í™”Â·ë¬¸ì ìº í˜ì¸</li>
        </ul>
      </div>
    </div>

    <!-- ì˜¨ë¼ì¸ ì „ëµ ë‹¤í¬ë°•ìŠ¤ -->
    <div class="card" style="margin:0;background:linear-gradient(135deg,#0f172a,#1e3a8a);color:white">
      <div style="font-size:14px;font-weight:800;margin-bottom:14px">ğŸŒ ì˜¨ë¼ì¸ ìº í˜ì¸ ì „ëµ ì›ì¹™</div>
      <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px">
        <div style="padding:12px;background:rgba(255,255,255,.08);border-radius:8px">
          <div style="font-size:12px;font-weight:800;color:#67e8f9;margin-bottom:5px">ğŸ“± í”Œë«í¼ ì§‘ì¤‘</div>
          <div style="font-size:12px;opacity:.92;line-height:1.65">Facebook Â· Instagram Â· ì¹´ì¹´ì˜¤í†¡ 3ê°œì— ì§‘ì¤‘. ë¶„ì‚° ê¸ˆì§€.</div>
        </div>
        <div style="padding:12px;background:rgba(255,255,255,.08);border-radius:8px">
          <div style="font-size:12px;font-weight:800;color:#86efac;margin-bottom:5px">ğŸ¬ ì˜ìƒ ìš°ì„ </div>
          <div style="font-size:12px;opacity:.92;line-height:1.65">60ì´ˆ ì´ë‚´ ì˜ìƒì´ í…ìŠ¤íŠ¸ ëŒ€ë¹„ ë„ë‹¬ë¥  3ë°° ì´ìƒ. ë¦´ìŠ¤Â·ì‡¼ì¸  í™œìš©.</div>
        </div>
        <div style="padding:12px;background:rgba(255,255,255,.08);border-radius:8px">
          <div style="font-size:12px;font-weight:800;color:#fcd34d;margin-bottom:5px">â° ê²Œì‹œ íƒ€ì´ë°</div>
          <div style="font-size:12px;opacity:.92;line-height:1.65">ì˜¤ì „ 7â€“9ì‹œ, ì˜¤í›„ 6â€“9ì‹œê°€ ìµœê³  ë°˜ì‘ êµ¬ê°„. ì£¼ 5â€“7íšŒ ì •ê¸° ê²Œì‹œ.</div>
        </div>
        <div style="padding:12px;background:rgba(255,255,255,.08);border-radius:8px">
          <div style="font-size:12px;font-weight:800;color:#f9a8d4;margin-bottom:5px">ğŸ”„ ëŒ“ê¸€ ê´€ë¦¬</div>
          <div style="font-size:12px;opacity:.92;line-height:1.65">48ì‹œê°„ ë‚´ ëª¨ë“  ëŒ“ê¸€ ëŒ€ì‘ ì›ì¹™. ë¶€ì • ëŒ“ê¸€ë„ ì„±ì‹¤í•œ ë‹µë³€ì´ íš¨ê³¼ì .</div>
        </div>
      </div>
    </div>

    <div class="ls-insight" style="margin-top:16px">
      <strong>ğŸ“Š í•µì‹¬ ì¸ì‚¬ì´íŠ¸</strong><br>
      ìº í˜ì¸ ì„±ê³µì˜ 70%ëŠ” <strong>íƒ€ì´ë° ê´€ë¦¬</strong>ì— ë‹¬ë ¤ ìˆìŠµë‹ˆë‹¤.
      ì´ë¥¸ ì´ìŠˆ ì„ ì , ë‹¨ê³„ë³„ ì •ì±… ë°œí‘œ, ë§‰íŒ ì§‘ì¤‘ íˆ¬ì… êµ¬ì¡°ë¥¼ ë¯¸ë¦¬ ì„¤ê³„í•˜ê³  ì‹¤í–‰í•œ ìº í”„ê°€ í•­ìƒ ìš°ìœ„ë¥¼ ì í•©ë‹ˆë‹¤.
      ì˜¨ë¼ì¸ì€ <strong>ë„ë‹¬ ë²”ìœ„</strong>ë¥¼, ì˜¤í”„ë¼ì¸ì€ <strong>ì§€ì§€ í™•ì‹ </strong>ì„ ë‹´ë‹¹í•˜ëŠ” ì—­í•  ë¶„ë¦¬ ì „ëµì´ íš¨ê³¼ì ì…ë‹ˆë‹¤.
    </div>
  </div>

</div><!-- /page-container -->

<script src="js/shared.js"></script>
<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Gemini ì„ ê±°êµ¬ ë§ì¶¤ ë¶„ì„ í•¨ìˆ˜
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

function getGeminiKey() { return localStorage.getItem('gemini_api_key') || ''; }
function setGeminiKey(k) { localStorage.setItem('gemini_api_key', k); }

function initGeminiForm() {
  const data = getData();
  const districtEl = document.getElementById('ls-district-input');
  const keyEl = document.getElementById('ls-gemini-key');
  if (data && data.district && districtEl) districtEl.value = data.district;
  if (keyEl) keyEl.value = getGeminiKey();

  // ìºì‹œ í™•ì¸ â€” district + ì €ì¥ëœ keyê°€ ìˆìœ¼ë©´ ìë™ í‘œì‹œ
  const district = districtEl ? districtEl.value.trim() : '';
  if (district) {
    const cacheKey = 'landscape_gemini_' + district;
    const cached = localStorage.getItem(cacheKey);
    if (cached) {
      try { renderCustomAnalysis(JSON.parse(cached), district, true); return; } catch(e){}
    }
  }
}

async function generateCustomAnalysis(forceRegen) {
  const district = document.getElementById('ls-district-input').value.trim();
  const apiKey   = document.getElementById('ls-gemini-key').value.trim();
  if (!district) { alert('ì„ ê±°êµ¬ / ì„ ê±°ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
  if (!apiKey)   { alert('Gemini API Keyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
  setGeminiKey(apiKey);

  // ìºì‹œ í™•ì¸
  const cacheKey = 'landscape_gemini_' + district;
  if (!forceRegen) {
    const cached = localStorage.getItem(cacheKey);
    if (cached) { try { renderCustomAnalysis(JSON.parse(cached), district, true); return; } catch(e){} }
  }

  // ë¡œë”©
  document.getElementById('ls-api-form').style.display = 'none';
  const box = document.getElementById('ls-generating-box');
  box.style.display = 'flex';
  document.getElementById('ls-gen-status').textContent = district + ' ë¶„ì„ ìƒì„± ì¤‘...';
  document.getElementById('ls-gen-status-sub').textContent = 'Gemini AIê°€ í•´ë‹¹ ì„ ê±°ì˜ íŒì„¸ë¥¼ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤.';

  const prompt = `ë‹¹ì‹ ì€ ì„ ê±° ì „ë¬¸ ë¶„ì„ê°€ì…ë‹ˆë‹¤. ì•„ë˜ ì„ ê±°ì— ëŒ€í•œ íŒì„¸ ì¸í…”ë¦¬ì „ìŠ¤ ë¶„ì„ì„ JSONìœ¼ë¡œ ì œê³µí•´ì£¼ì„¸ìš”.

ì„ ê±° ì •ë³´: ${district}

ë‹¤ìŒ JSON êµ¬ì¡°ë¡œ ì •í™•íˆ ì‘ë‹µí•˜ì„¸ìš”. JSON ì™¸ ë‹¤ë¥¸ í…ìŠ¤íŠ¸ëŠ” í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”:
{
  "election_type": "ì„ ê±° ìœ í˜• (ì˜ˆ: ê´‘ì—­ë‹¨ì²´ì¥, ê¸°ì´ˆë‹¨ì²´ì¥, êµìœ¡ê°, êµ­íšŒì˜ì› ë“±)",
  "election_overview": "ì´ ì„ ê±°ì˜ ì „ë°˜ì  íŠ¹ì„±Â·ì¤‘ìš”ì„±Â·ì„ ê±° í™˜ê²½ (3ë¬¸ì¥)",
  "voter_structure": {
    "estimated_voters": "ì¶”ì • ìœ ê¶Œì ìˆ˜ (ì˜ˆ: ì•½ 830ë§Œ ëª…)",
    "turnout_estimate": "ì˜ˆìƒ íˆ¬í‘œìœ¨ (ì˜ˆ: 62%)",
    "swing_voter_ratio": "ìŠ¤ìœ™ë³´í„° ì¶”ì • ë¹„ìœ¨ (ì˜ˆ: 20%)",
    "key_groups": [
      {"name": "ê·¸ë£¹ëª…", "ratio": "ë¹„ìœ¨%", "key_issue": "í•µì‹¬ ê´€ì‹¬ì‚¬", "color": "#16a34a"}
    ]
  },
  "key_issues": [
    {"rank": 1, "title": "ì´ìŠˆëª…", "score": 90, "desc": "ì´ìŠˆ ì„¤ëª… 1-2ë¬¸ì¥", "icon": "ğŸ’°", "color": "#f59e0b"}
  ],
  "election_frame": {
    "dominant_frame": "ì§€ë°°ì  í”„ë ˆì„ ì´ë¦„",
    "probability": 38,
    "analysis": "í”„ë ˆì„ ë¶„ì„ 2-3ë¬¸ì¥",
    "favorable_type": "ìœ ë¦¬í•œ í›„ë³´ ìœ í˜• (ì˜ˆ: í–‰ì •í˜•Â·í˜„ì§í˜•)",
    "unfavorable_type": "ë¶ˆë¦¬í•œ í›„ë³´ ìœ í˜• (ì˜ˆ: ì‹ ì¸í˜•)"
  },
  "risk_factors": [
    {"title": "ë¦¬ìŠ¤í¬ëª…", "desc": "ì„¤ëª… 1-2ë¬¸ì¥", "timing": "ë°œìƒ ì‹œì  (ì˜ˆ: D-30~D-14)", "icon": "âš ï¸", "color": "#dc2626"}
  ],
  "campaign_points": [
    {"phase": "D-90~D-60", "title": "í¬ì§€ì…”ë‹ ë‹¨ê³„", "color": "#0891b2", "points": ["ì „ëµ1", "ì „ëµ2", "ì „ëµ3"]}
  ],
  "district_insight": "ì´ ì„ ê±°ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ì „ëµì  ì¸ì‚¬ì´íŠ¸ 2-3ë¬¸ì¥"
}

key_groups: 4ê°œ, key_issues: 5-6ê°œ, risk_factors: 3-4ê°œ, campaign_points: 3ê°œ. ëª¨ë‘ í•œêµ­ì–´.`;

  try {
    const resp = await fetch(
      `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`,
      {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          contents: [{ parts: [{ text: prompt }] }],
          generationConfig: { temperature: 0.7, maxOutputTokens: 2048 }
        })
      }
    );
    if (!resp.ok) {
      const err = await resp.json();
      throw new Error(err.error?.message || resp.status);
    }
    const respData = await resp.json();
    let text = respData.candidates?.[0]?.content?.parts?.[0]?.text || '';

    // JSON ì¶”ì¶œ (ë§ˆí¬ë‹¤ìš´ ì½”ë“œë¸”ë¡ ì²˜ë¦¬)
    const mdMatch = text.match(/```(?:json)?\s*([\s\S]*?)```/);
    if (mdMatch) text = mdMatch[1];
    else { const objMatch = text.match(/\{[\s\S]*\}/); if (objMatch) text = objMatch[0]; }

    const analysis = JSON.parse(text.trim());
    localStorage.setItem(cacheKey, JSON.stringify(analysis));

    box.style.display = 'none';
    renderCustomAnalysis(analysis, district, false);

  } catch(err) {
    box.style.display = 'none';
    document.getElementById('ls-api-form').style.display = 'block';
    alert('ë¶„ì„ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:\n' + err.message);
  }
}

function renderCustomAnalysis(a, district, fromCache) {
  document.getElementById('ls-api-form').style.display = 'none';
  document.getElementById('ls-generating-box').style.display = 'none';

  const issues = (a.key_issues || []).map((iss, i) => `
    <div class="ls-issue-item">
      <div class="ls-issue-rank">${iss.icon||'â€¢'}</div>
      <div class="ls-issue-bar-wrap">
        <div class="ls-issue-label">${iss.title}</div>
        <div class="ls-issue-track">
          <div class="ls-issue-fill" style="width:${iss.score}%;background:${iss.color||'#4f46e5'}"></div>
        </div>
      </div>
      <div class="ls-issue-score" style="color:${iss.color||'#4f46e5'}">${iss.score}</div>
    </div>`).join('');

  const groups = (a.voter_structure?.key_groups || []).map(g => `
    <div class="ls-vg-item">
      <div class="ls-vg-dot" style="background:${g.color||'#4f46e5'}"></div>
      <div class="ls-vg-name">${g.name}</div>
      <div class="ls-vg-ratio" style="color:${g.color||'#4f46e5'}">${g.ratio}</div>
      <div class="ls-vg-issue">${g.key_issue}</div>
    </div>`).join('');

  const risks = (a.risk_factors || []).map(r => `
    <div class="ls-risk-mini" style="border-left-color:${r.color||'#dc2626'}">
      <div class="ls-risk-mini-icon">${r.icon||'âš ï¸'}</div>
      <div>
        <div class="ls-risk-mini-title">${r.title}</div>
        <div class="ls-risk-mini-desc">${r.desc}</div>
        <div class="ls-risk-mini-timing">ğŸ“… ${r.timing}</div>
      </div>
    </div>`).join('');

  const cpoints = (a.campaign_points || []).map(cp => `
    <div class="ls-cp-item" style="border-left-color:${cp.color||'#4f46e5'}">
      <div class="ls-cp-phase" style="color:${cp.color||'#4f46e5'}">${cp.phase}</div>
      <div class="ls-cp-title">${cp.title}</div>
      <div class="ls-cp-pts">${(cp.points||[]).map(p=>`<div class="ls-cp-pt">${p}</div>`).join('')}</div>
    </div>`).join('');

  const fr = a.election_frame || {};
  const vs = a.voter_structure || {};
  const now = new Date().toLocaleDateString('ko-KR');

  const html = `
    <div class="ls-result-title-row">
      <div>
        <span class="ls-result-district">${district}</span>
        <span class="ls-result-type">${a.election_type||'ì„ ê±°'}</span>
      </div>
      <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap">
        ${fromCache ? `<span class="ls-cache-notice">âœ… ìºì‹œ ì €ì¥ë¨</span>` : `<span class="ls-cache-notice">âœ… ë°©ê¸ˆ ìƒì„±ë¨ Â· ${now}</span>`}
        <button class="ls-regen-btn" onclick="document.getElementById('ls-api-form').style.display='block';document.getElementById('ls-custom-result').style.display='none'">âœï¸ ì¬ìƒì„±</button>
      </div>
    </div>
    <div class="ls-result-overview">${a.election_overview||''}</div>

    <div class="ls-result-grid">
      <!-- ìœ ê¶Œì êµ¬ì¡° -->
      <div class="ls-result-card">
        <div class="ls-result-card-title">ğŸ‘¥ ìœ ê¶Œì êµ¬ì¡°</div>
        <div style="display:flex;gap:16px;margin-bottom:12px;flex-wrap:wrap">
          <div style="text-align:center">
            <div style="font-size:22px;font-weight:900;color:#4f46e5">${vs.estimated_voters||'-'}</div>
            <div style="font-size:11px;color:#4b5563">ì¶”ì • ìœ ê¶Œì</div>
          </div>
          <div style="text-align:center">
            <div style="font-size:22px;font-weight:900;color:#059669">${vs.turnout_estimate||'-'}</div>
            <div style="font-size:11px;color:#4b5563">ì˜ˆìƒ íˆ¬í‘œìœ¨</div>
          </div>
          <div style="text-align:center">
            <div style="font-size:22px;font-weight:900;color:#d97706">${vs.swing_voter_ratio||'-'}</div>
            <div style="font-size:11px;color:#4b5563">ìŠ¤ìœ™ë³´í„°</div>
          </div>
        </div>
        ${groups}
      </div>
      <!-- í•µì‹¬ ì´ìŠˆ -->
      <div class="ls-result-card">
        <div class="ls-result-card-title">ğŸ“Š í•µì‹¬ ì´ìŠˆ ìš°ì„ ìˆœìœ„</div>
        ${issues}
      </div>
    </div>

    <!-- í”„ë ˆì„ ë¶„ì„ (ì „ì²´ í­) -->
    <div class="ls-result-card" style="margin-bottom:14px">
      <div class="ls-result-card-title">ğŸ­ ì„ ê±° í”„ë ˆì„ ë¶„ì„</div>
      <div class="ls-frame-box">
        <div class="ls-frame-name">ì§€ë°°ì  í”„ë ˆì„: ${fr.dominant_frame||'-'}</div>
        <div class="ls-frame-prob-row">
          <div class="ls-frame-prob-track">
            <div class="ls-frame-prob-fill" style="width:${fr.probability||0}%"></div>
          </div>
          <div class="ls-frame-prob-val">${fr.probability||0}%</div>
        </div>
        <div class="ls-frame-analysis">${fr.analysis||''}</div>
        <div class="ls-frame-types">
          <span style="font-size:12px;font-weight:700;color:#374151;margin-right:4px">ìœ ë¦¬:</span>
          <span class="ls-frame-fav">âœ… ${fr.favorable_type||'-'}</span>
          <span style="font-size:12px;font-weight:700;color:#374151;margin:0 4px">ë¶ˆë¦¬:</span>
          <span class="ls-frame-unfav">â›” ${fr.unfavorable_type||'-'}</span>
        </div>
      </div>
    </div>

    <div class="ls-result-grid">
      <!-- ë¦¬ìŠ¤í¬ ìš”ì¸ -->
      <div class="ls-result-card">
        <div class="ls-result-card-title">âš ï¸ ì„ ê±° ë¦¬ìŠ¤í¬ ìš”ì¸</div>
        ${risks}
      </div>
      <!-- ìº í˜ì¸ ì „ëµ -->
      <div class="ls-result-card">
        <div class="ls-result-card-title">ğŸ“… ìº í˜ì¸ ì „ëµ í¬ì¸íŠ¸</div>
        ${cpoints}
      </div>
    </div>

    <!-- ì „ëµì  ì¸ì‚¬ì´íŠ¸ -->
    <div class="ls-district-insight">
      <strong>ğŸ’¡ ${district} ì „ëµì  ì¸ì‚¬ì´íŠ¸</strong><br>
      ${a.district_insight||''}
    </div>`;

  const resultEl = document.getElementById('ls-custom-result');
  resultEl.innerHTML = html;
  resultEl.style.display = 'block';
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

document.addEventListener('DOMContentLoaded', () => {

  // â”€â”€ ë©”íƒ€ ì •ë³´ â”€â”€
  const data = getData();
  if (data) {
    document.getElementById('cover-district').textContent = data.district || '-';
    document.getElementById('cover-date').textContent = data.analysis_date || '-';
  }

  // â”€â”€ Gemini í¼ ì´ˆê¸°í™” â”€â”€
  initGeminiForm();

  // â”€â”€ ì—°ë ¹ëŒ€ ë„ë„› ì°¨íŠ¸ â”€â”€
  new Chart(document.getElementById('ageChart'), {
    type: 'doughnut',
    data: {
      labels: ['18â€“29ì„¸ (18%)', '30â€“44ì„¸ (26%)', '45â€“59ì„¸ (31%)', '60ì„¸ ì´ìƒ (25%)'],
      datasets: [{
        data: [18, 26, 31, 25],
        backgroundColor: ['#06b6d4', '#3b82f6', '#7c3aed', '#f59e0b'],
        borderWidth: 3, borderColor: 'white'
      }]
    },
    options: {
      responsive: true, maintainAspectRatio: false,
      plugins: {
        legend: {
          position: 'bottom',
          labels: { font: { size: 11, family: 'Noto Sans KR' }, padding: 10 }
        }
      }
    }
  });

  // â”€â”€ ê´€ì‹¬ì‚¬ ë°” â”€â”€
  const interests = [
    { label: 'ğŸ’° ìƒí™œë¹„Â·ë¬¼ê°€',   score: 87, color: '#f59e0b' },
    { label: 'ğŸ’¼ ì¼ìë¦¬ ì°½ì¶œ',   score: 82, color: '#16a34a' },
    { label: 'ğŸŒº ê´€ê´‘ ê²½ì œ',     score: 78, color: '#ea580c' },
    { label: 'ğŸ  ì£¼íƒÂ·ì„ëŒ€ë£Œ',   score: 74, color: '#2563eb' },
    { label: 'ğŸ“š êµìœ¡ í™˜ê²½',     score: 71, color: '#7c3aed' },
    { label: 'ğŸ›¡ï¸ ì¹˜ì•ˆÂ·ì•ˆì „',    score: 68, color: '#0891b2' },
    { label: 'ğŸŒ¿ í™˜ê²½Â·ê¸°í›„',     score: 55, color: '#059669' },
    { label: 'ğŸ¥ ì˜ë£Œ ì ‘ê·¼ì„±',   score: 52, color: '#dc2626' },
  ];
  document.getElementById('interestBars').innerHTML = interests.map(i => `
    <div class="interest-bar-wrap">
      <div class="interest-bar-label">
        <span>${i.label}</span>
        <span style="font-weight:900;color:${i.color}">${i.score}</span>
      </div>
      <div class="interest-bar-track">
        <div class="interest-bar-fill" style="width:${i.score}%;background:${i.color}"></div>
      </div>
    </div>
  `).join('');

  // â”€â”€ íˆ¬í‘œ íë¦„ ì°¨íŠ¸ â”€â”€
  new Chart(document.getElementById('voteFlowChart'), {
    type: 'line',
    data: {
      labels: ['D-90','D-75','D-60','D-45','D-30','D-21','D-14','D-7','D-3','D-1'],
      datasets: [
        {
          label: 'ì§€ì§€ì¸µ ê²°ì§‘ë„ (%)',
          data: [55, 58, 62, 65, 68, 72, 76, 82, 88, 92],
          borderColor: '#2563eb', backgroundColor: 'rgba(37,99,235,.1)',
          tension: .4, fill: true, borderWidth: 2, pointRadius: 3
        },
        {
          label: 'ë¶€ë™ì¸µ ì”ì¡´ ë¹„ìœ¨ (%)',
          data: [45, 42, 38, 35, 32, 28, 24, 18, 12, 8],
          borderColor: '#dc2626', backgroundColor: 'rgba(220,38,38,.08)',
          tension: .4, fill: true, borderWidth: 2, pointRadius: 3,
          borderDash: [5, 3]
        }
      ]
    },
    options: {
      responsive: true, maintainAspectRatio: false,
      plugins: {
        legend: { labels: { font: { size: 11, family: 'Noto Sans KR' }, padding: 10 } }
      },
      scales: {
        y: { min: 0, max: 100, ticks: { callback: v => v + '%', font: { size: 11 } } },
        x: { ticks: { font: { size: 10 } } }
      }
    }
  });

});
</script>
</body>
</html>
